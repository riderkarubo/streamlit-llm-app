# 専門家AIコンサルタント - Streamlitアプリ

## 概要

このアプリは、LangChainとOpenAI GPTを使用して、4人の専門家（データサイエンティスト、ソフトウェアエンジニア、マーケティングスペシャリスト、財務アナリスト）の中から選択して、専門的なアドバイスや回答を得ることができるWebアプリケーションです。

## 機能

- 4人の専門家から選択可能（ラジオボタン）
- テキスト入力フォームで質問を入力
- 選択された専門家のシステムメッセージに基づいた専門的な回答
- LangChainを使用したLLM連携

## セットアップ

### 1. 必要なパッケージのインストール

```bash
pip install -r requirements.txt
```

### 2. 環境変数の設定

プロジェクトルートに`.env`ファイルを作成し、OpenAI APIキーを設定してください：

```env
OPENAI_API_KEY=your_openai_api_key_here
```

### 3. アプリの起動

```bash
streamlit run app.py
```

## 使用方法

1. **専門家を選択**: ラジオボタンから、質問したい領域の専門家を選択してください
2. **質問を入力**: テキスト入力フォームに質問や相談内容を入力してください
3. **送信**: 「回答を取得」ボタンをクリックして、専門家からの回答を確認してください

## 専門家一覧

- **A. データサイエンティスト**: データ分析、機械学習、統計学などの分野の専門家
- **B. ソフトウェアエンジニア**: プログラミング、システム設計、アーキテクチャなどの分野の専門家
- **C. マーケティングスペシャリスト**: ブランディング、デジタルマーケティング、マーケティング戦略などの分野の専門家
- **D. 財務アナリスト**: 財務分析、投資判断、予算管理などの分野の専門家

## 技術スタック

- Streamlit
- LangChain
- OpenAI GPT
- Python-dotenv

## コスト最適化

このアプリは、トークンコストを最小限に抑えるよう最適化されています：

- **使用モデル**: GPT-5 nano（入力 $0.05、出力 $0.40 / 100万トークン）- 2025年11月時点
  - **GPT-5シリーズとの比較**:
    - GPT-5: 入力 $1.25、出力 $10.00（GPT-5 nanoの約25倍のコスト）
    - GPT-5 mini: 入力 $0.25、出力 $2.00（GPT-5 nanoの約5倍のコスト）
    - GPT-5 nano: 入力 $0.05、出力 $0.40（最安価）
  - **GPT-4o-miniとの比較**:
    - GPT-4o-mini: 入力 $0.15、出力 $0.60
    - GPT-5 nano: 入力コスト約67%削減、出力コスト約33%削減
  - ハルシネーション発生率も約45%減少し、品質も向上
- **システムメッセージ**: 簡潔化により約60-70%のトークン削減
- **Temperature**: 0.6に設定し、予測可能性を高めてコスト削減
- **Max Tokens**: 1500トークンに制限し、過剰に長い回答を防止

品質を維持しつつ、コストを最小限に抑えた設計となっています。